<!DOCTYPE HTML>
<html>

<body>
  <h2>事件委托示例</h2>
  <link type="text/css" rel="stylesheet" href="bagua.css">
  <table id="bagua-table">
    <tr>
      <th colspan="3"><em>Bagua</em> Chart: Direction, Element, Color, Meaning</th>
    </tr>
    <tr>
      <td class="nw"><strong>Northwest</strong>
        <br>Metal
        <br>Silver
        <br>Elders
      </td>
      <td class="n"><strong>North</strong>
        <br>Water
        <br>Blue
        <br>Change
      </td>
      <td class="ne"><strong>Northeast</strong>
        <br>Earth
        <br>Yellow
        <br>Direction
      </td>
    </tr>
    <tr>
      <td class="w"><strong>West</strong>
        <br>Metal
        <br>Gold
        <br>Youth
      </td>
      <td class="c"><strong>Center</strong>
        <br>All
        <br>Purple
        <br>Harmony
      </td>
      <td class="e"><strong>East</strong>
        <br>Wood
        <br>Blue
        <br>Future
      </td>
    </tr>
    <tr>
      <td class="sw"><strong>Southwest</strong>
        <br>Earth
        <br>Brown
        <br>Tranquility
      </td>
      <td class="s"><strong>South</strong>
        <br>Fire
        <br>Orange
        <br>Fame
      </td>
      <td class="se"><strong>Southeast</strong>
        <br>Wood
        <br>Green
        <br>Romance
      </td>
    </tr>

  </table>

  <script>
    let table = document.getElementById('bagua-table');

    let selectedTd;

    table.onclick = function (event) {
      const target = event.target

      console.log('test target.tagName', target.tagName)
      const td = target.closest('td')
      console.log('td', td)
      if (!td) return
      if (!table.contains(td)) return

      // if (target.tagName !== 'TD') {
      //   return
      // }

      highlight(td)
    }

    function highlight(td) {
      if (selectedTd) {
        selectedTd.classList.remove('highlight')
      }
      selectedTd = td
      selectedTd.classList.add('highlight')
    }


  </script>

</body>

</html>